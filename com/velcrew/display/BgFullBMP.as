/* AS3	Copyright 2009 __velcrew__.		www.velcrew.com*/package  com.velcrew.display{	import flash.display.Sprite;	import flash.events.Event;	import flash.display.BitmapData;	import flash.display.BlendMode;	/**	*	Background FullScreen BITMAPDATA Class v0.3	*		*		*		*	stage.addEventListener(Event.RESIZE, fullBg);	*	addEventListener(Event.REMOVED_FROM_STAGE, removeThis)	*		*		*	Background FullScreen BITMAPDATA Class v0.2	*	*	@langversion ActionScript 3.0	*	@playerversion Flash 9.0	*	*	@author Luis Teixeira aka Fraude	*	@since  2009-04-07	*/	public class BgFullBMP extends Sprite {				private var _reference  :BitmapData;	    private var _tile  		:Sprite;		private var _lockRacio 	:Boolean;						public function BgFullBMP(bmp:BitmapData,lockRacio = false){						addEventListener( Event.ADDED_TO_STAGE, init );			_reference = bmp;			_lockRacio = lockRacio;				}				private function init( event:Event ) : void		{						removeEventListener(Event.ADDED_TO_STAGE, init);			addEventListener(Event.REMOVED_FROM_STAGE, removeThis)		    stage.addEventListener(Event.RESIZE, fullBg);		    setBg();		}				private function setBg(e:Event = null):void		{			var oldTile:Sprite  = _tile;		    _tile = new Sprite();		    _tile.graphics.beginBitmapFill(_reference);		    _tile.graphics.drawRect(0, 0, stage.stageWidth, stage.stageHeight);		    _tile.graphics.endFill();		    addChild(_tile);			/*        	if (oldTile != null && oldTile != _tile)        	{		       removeChild(oldTile);	     	}			*/		}				private function fullBg(e:Event = null):void		{			_tile.width = stage.stageWidth;			_tile.height = stage.stageHeight;					}				public function removeThis(e:Event = null)		{			removeEventListener(Event.REMOVED_FROM_STAGE, removeThis)			stage.removeEventListener(Event.RESIZE, fullBg);		}	}	}